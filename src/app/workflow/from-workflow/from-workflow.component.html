<div class="header text-center">
  <img src="assets/images/logo.png" alt="" class="btn-block">
  <span>{{title}}</span>
</div>
<div class="container-fluid">
  <div class="main">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="top">
          <div class="location">
            <span>请选择区域：</span>
          </div>
          <div class="select-city">
            <div class="select-city-touch" (click)="cityClick()">
              <i class="fa fa-caret-down" aria-hidden="true"></i>
              <span>{{cityDate}}</span>
            </div>
           <div class="select-city-touch" (click)="countyClick()">
            <i class="fa fa-caret-down" aria-hidden="true" ></i>
            <span>{{countyDate}}</span>
          </div>
           <div class="select-city-touch" (click)="communityClick()">
             <i class="fa fa-caret-down" aria-hidden="true"></i>
             <span>{{communityDate}}</span>
           </div>
          </div>
          <div class="province-city">
            <ul class="select-list-city" *ngIf="cityShow">
              <li *ngFor="let item of citys"
                  (click)="cityDataClick(item.city)"
              >
                {{item.city}}
              </li>
            </ul>
            <ul class="select-list-country" *ngIf="countyShow">
              <li *ngFor="let item of countys"
                  (click)="countyDataClick(item.county)"
              >
                {{item.county}}
              </li>
            </ul>
            <ul class="select-list-community" *ngIf="communityShow">
              <li *ngFor="let item of communitys"
                  (click)="communityDataClick(item.community)"
              >
                {{item.community}}
              </li>
            </ul>
          </div>
          <div class="thing">
            <span>请选择具体办理事项：</span>
            <div class="thing-select text-center">
              <button class="btn btn-danger" (click)="housePurchase()">购房的暂住居住</button>
              <button class="btn btn-info" (click)="houseRenting()">租房的暂住居民</button>
            </div>
            <div class="house-purchase"  *ngIf="housePurchaseSure">
              <h4>购房的暂住居住</h4>
              <p>
                1、房产证（如未办理房产证的提供购房合同）或不动产证（若购买私房，需提供购房合同、原房主身份信息及电话）
              </p>
              <p>
                2、所住人员身份信息（户口本或身份证）
              </p>
            </div>
            <div class="house-renting" *ngIf="houseRentingSure">
              <h4>租房的暂住居民</h4>
              <p>
                1、房东需到派出所签订责任书
              </p>
              <p>
                2、租房人需提供租房合同
              </p>
              <p>
                3、所住人员身份信息（户口本或身份证）
              </p>
            </div>
          </div>
          <div class="sure">
            <button class="btn btn-block btn-primary" (click)="formShowFun()">确认办理</button>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="menu" *ngIf="formShow">
          <form class="form-horizontal" id="commentForm" [formGroup]="myForm" (submit)="onSubmit()">
            <!--姓名-->
            <div class="form-group">
              <label for="name" class="col-sm-2 control-label">您的姓名：</label>
              <div class="col-sm-10">
                <input type="text" formControlName="name"  class="form-control" id="name" placeholder="请填写" name="name">
              </div>
              <div *ngIf="formName.invalid && (formName.dirty || formName.touched)" class="col-sm-2 control-label">
                <div *ngIf="formName.errors.required">
                  姓名不能为空
                </div>
              </div>
            </div>
            <!--联系方式-->
            <div class="form-group">
              <label for="phone" number class="col-sm-2 control-label">联系方式：</label>
              <div class="col-sm-10">
                <input type="text" formControlName="phone" class="form-control" id="phone" name="phone" placeholder="请填写电话">
              </div>
              <div *ngIf="formPhone.invalid && (formPhone.dirty || formPhone.touched)" class="col-sm-2 control-label">
                <div *ngIf="!(formPhone.hasError('mobileValidators','username'))">
                  请输入合法的手机号
                </div>
              </div>
            </div>
            <!--身份证-->
            <div class="form-group">
              <label for="card" number class="col-sm-2 control-label">身份证号：</label>
              <div class="col-sm-10">
                <input type="text" formControlName="card" class="form-control" id="card" name="card" placeholder="请填写身份证号/选填">
              </div>
            </div>
            <!--描述-->
            <div class="form-group">
              <label for="describe" class="col-sm-2 control-label">请输入咨询的问题：</label>
              <div class="col-sm-10">
                <textarea class="form-control" formControlName="content" rows="3" id="describe" placeholder="请输入描述事时间内容" name="describe"></textarea>
              </div>
              <div *ngIf="formContent.invalid && (formPhone.dirty || formContent.touched)" class="col-sm-2 control-label">
                <div *ngIf="formContent.errors.required">
                  问题描述不能为空
                </div>
              </div>
            </div>
            <!--图片上传-->
            <div class="form-group">
              <label for="describe" style="margin-bottom: 25px" class="col-sm-2 control-label">请上传您的相关证件图片：</label>
              <div class="col-sm-12">
                <input type="file" #uploadfiles name="uploadfiles" style="display: none" id="uploadfiles" multiple (change)="onChangeFiles($event,fileImage)">
                <div class="filebox" id="filebox" (click)="fileboxClick(uploadfiles)"></div>
                <div class="file-image" id="fileImage" #fileImage></div>
              </div>
            </div>
            <!--提交-->
            <div class="form-group">
              <div class="col-sm-12">
                <button type="submit" class="btn btn-lg btn-block btn-primary">提交</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>


