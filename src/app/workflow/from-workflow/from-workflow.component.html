<div class="header">
  <h3 class="text-center" style="color: white">{{title}}流程</h3>
  <div style="color: white;font-size: 1.8rem" [innerHTML]="text"></div>
</div>
<div id="baidumap">
  <baidu-map style="display: block;height: 50vh" [options]="opts"
             (onMapLoaded)="loadMap($event)"
             (onMarkerClicked)="clickMarker($event)"
             (clicked)="clickmap($event)" >

    <!--地图标记-->
    <marker *ngFor="let marker of markers" [point]="marker.point" [options]="marker.options"></marker>

    <!--导航控件-->
    <control type="navigation" [options]="controlOpts" (loaded)="controlLoaded($event)"></control>

    <!--地图全景控件-->
    <control type="overviewmap" [options]="overviewmapOpts"></control>

    <!--比例尺-->
    <control type="scale" [options]="scaleOpts"></control>

    <!--地图类型-->
    <control type="maptype" [options]="mapTypeOpts"></control>

    <!--定位控件-->
    <control type="geolocation" [options]="geolocationOpts" (loaded)="localtionLoaded($event)"></control>


  </baidu-map>
</div>
<div style="color:white;">
  <form class="form-horizontal" id="commentForm" [formGroup]="myForm" (submit)="onSubmit()">
    <div class="form-group">
      <div class="col-sm-10">
        <input type="text" class="form-control" id="location" formControlName="title" name="location" required style="display: none">
        <span id="locationText">定位中......</span>
        <i class="fa fa-location-arrow pull-right"></i>
        <div id="center_map"></div>
      </div>
    </div>
    <div class="form-group">
      <label for="name" class="col-sm-2 control-label">您的姓名</label>
      <div class="col-sm-10">
        <input type="text" formControlName="name" minlength="4" maxlength="8" required class="form-control" id="name" placeholder="请填写" name="username">
      </div>
    </div>
    <div class="form-group">
      <label for="phoneNumber" required number class="col-sm-2 control-label">联系方式</label>
      <div class="col-sm-10">
        <input type="number" formControlName="phone" class="form-control" required id="phoneNumber" name="phoneNumber" placeholder="请填写电话">
      </div>
    </div>
    <div class="form-group">
      <label for="describe" class="col-sm-2 control-label">事件描述</label>
      <div class="col-sm-10">
        <textarea required class="form-control" formControlName="content" rows="3" id="describe" placeholder="请输入描述事时间内容" name="describe"></textarea>
      </div>
    </div>
    <div class="form-group">
      <label for="describe" style="margin-bottom: 25px" class="col-sm-2 control-label">上传图片</label>
      <div class="col-sm-10">
        <input type="file" #uploadfiles required name="uploadfiles" style="display: none" id="uploadfiles" multiple (change)="onChangeFiles($event,fileImage)">
        <div class="filebox" id="filebox" (click)="fileboxClick(uploadfiles)">
          <div class="fileboxline"></div>
          <div class="fileboxlineTwo" style=""></div>
        </div>
        <div class="file-image" id="fileImage" #fileImage></div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-block btn-primary">提交</button>
      </div>
    </div>
  </form>
</div>
